---
- name: Challenge 9 - OSPF interface types
  hosts: all
  connection: netconf
  gather_facts: no

  tasks:

    - name: Configure Point-to-Point OSPF interface
      junipernetworks.junos.junos_config:
        lines:
          - set protocols ospf area 1 interface ge-0/0/1.0 interface-type point-to-point
      when: inventory_hostname in ['vMX1', 'vQFX1']

    - name: Configure Broadcast OSPF interface
      junipernetworks.junos.junos_config:
        lines:
          - set protocols ospf area 1 interface ge-0/0/0.0 interface-type broadcast
      when: inventory_hostname in ['vMX1', 'vMX2']

    - name: Configure Non-Broadcast OSPF interface
      junipernetworks.junos.junos_config:
        lines:
          - set protocols ospf area 1 interface ge-0/0/2.0 interface-type non-broadcast
      when: inventory_hostname == 'vMX1'
